<!DOCTYPE html>

<html>
<head>
<meta charset="utf-8">
<title>Student Test</title>
</head>
<body>
    <h4>cors Test</h4>
    <br>
    <button id="btnGetRequest">GET 요청</button>
    <button id="btnPostRequest">POST 요청</button>
    <button id="btnPutRequest">PUT 요청</button>
    <button id="btnDeleteRequest">DELETE 요청</button>
    
    <button id="btnLoginRequest">login 요청</button>
    <script >
        window.onload = function(){
            document.querySelector("#btnGetRequest").onclick = makeGetRequest;
            document.querySelector("#btnPostRequest").onclick = makePostRequest;
            document.querySelector("#btnPutRequest").onclick = makePutRequest;
            document.querySelector("#btnDeleteRequest").onclick = makeDeleteRequest;
            
            document.querySelector("#btnLoginRequest").onclick = makeLoginRequest;

        }

        async function makeLoginRequest(){
            try{
                let response = await fetch('http://localhost:8080/login/ok');
                //let data = await response.json();
                //console.log(data);
            }catch(error){
                console.error(error);
            }
        }
        
        async function makeGetRequest(){
            try{
                let response = await fetch('http://localhost:8080/getcors?param=1');
                let data = await response.json();
                console.log(data);
            }catch(error){
                console.error(error);
            }
        }

        async function makePostRequest(){
            let urlParams = new URLSearchParams({param: 2});
            let fetchOptions = {
                    method: 'Post',
                    body: urlParams
            }
            try{
                let response = await fetch('http://localhost:8080/postcors',fetchOptions);
                let data = await response.json();
                console.log(data);
            }catch(error){
                console.error(error);
            }
        }

        async function makePutRequest(){
            let urlParams = new URLSearchParams({param: 3});
            let fetchOptions = {
                    method: 'Put',
                    body: urlParams
            }
            try{
                let response = await fetch('http://localhost:8080/putcors/123',fetchOptions);
                let data = await response.json();
                console.log(data);
            }catch(error){
                console.error(error);
            }
        }

        async function makeDeleteRequest(){

            let fetchOptions = {
                    method: 'Delete'
            }

            try{
                let response = await fetch('http://localhost:8080/deletecors/123',fetchOptions);
                let data = await response.json();
                console.log(data);
            }catch(error){
                console.error(error);
            }
        }
    </script>
</body>
</html>